<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0a0a1a">
    <meta name="description" content="網頁版波弟三消遊戲 (Match-3 Game) — 經典休閒益智遊戲，即開即玩！">
    <title>Match-3 Game v0.2.0 — 波弟消消樂</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="game-container">
        <!-- 模式選擇 (移至頂部兩角) -->
        <div class="mode-selector top-nav">
            <button class="btn btn-mode active" id="btn-classic" data-mode="classic">
                ♾️ 經典模式
            </button>

            <header class="game-header">
                <h1 class="game-title">
                    <span class="title-gem">🐾</span> Match-3
                </h1>
                <p class="game-subtitle">波弟消消樂 <span style="opacity: 0.6; font-size: 0.8em;">v0.2.0</span></p>
            </header>

            <button class="btn btn-mode" id="btn-timed" data-mode="timed">
                ⏱️ 計時模式
            </button>
        </div>

        <!-- 計分板 -->
        <div class="scoreboard">
            <div class="score-item">
                <span class="score-label">分數</span>
                <span class="score-value" id="current-score">0</span>
            </div>
            <div class="score-item">
                <span class="score-label">最高分</span>
                <span class="score-value" id="high-score">0</span>
            </div>
            <div class="score-item" id="timer-container" style="display: none;">
                <span class="score-label">時間</span>
                <span class="score-value" id="timer">60</span>
            </div>
            <div class="score-item">
                <span class="score-label">連鎖</span>
                <span class="score-value" id="combo-count">0</span>
            </div>
        </div>

        <!-- 遊戲畫布 -->
        <div class="canvas-wrapper">
            <canvas id="game-canvas"></canvas>
            <!-- 遊戲結束覆蓋層 -->
            <div class="overlay" id="game-over-overlay" style="display: none;">
                <div class="overlay-content">
                    <h2 class="overlay-title">遊戲結束</h2>
                    <p class="overlay-score">最終分數：<span id="final-score">0</span></p>
                    <button class="btn btn-primary" id="btn-restart-overlay">再玩一次</button>
                </div>
            </div>
        </div>

        <!-- 控制按鈕區 -->
        <div class="controls">
            <div class="action-buttons">
                <button class="btn btn-secondary" id="btn-sound">
                    🔊 音效: 開
                </button>
                <button class="btn btn-secondary" id="btn-hint">
                    💡 提示
                </button>
                <button class="btn btn-secondary" id="btn-restart">
                    🔄 重新開始
                </button>
            </div>
        </div>

        <!-- 慶祝影片區 -->
        <div class="video-wrapper">
            <video id="cheer-video" src="assets/videos/cheer.mp4" autoplay loop muted playsinline
                crossorigin="anonymous"></video>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>

</html>